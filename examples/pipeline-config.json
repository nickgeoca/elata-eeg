{
  "version": "1.0",
  "metadata": {
    "name": "EEG Processing Pipeline",
    "description": "Example pipeline for EEG data acquisition, filtering, and output",
    "version": "1.0.0",
    "author": "EEG System",
    "created_at": 1704729600000000,
    "modified_at": 1704729600000000,
    "tags": ["eeg", "filtering", "realtime"]
  },
  "stages": [
    {
      "name": "acquire1",
      "type": "acquire",
      "params": {
        "sps": 500,
        "gain": 24,
        "channels": 8
      },
      "description": "Data acquisition from ADS1299 sensor"
    },
    {
      "name": "to_voltage1",
      "type": "to_voltage",
      "params": {
        "vref": 4.5,
        "adc_bits": 24
      },
      "inputs": ["acquire1"],
      "description": "Convert raw ADC values to voltages"
    },
    {
      "name": "filter1",
      "type": "filter",
      "params": {
        "lowpass": 40.0,
        "highpass": 0.5,
        "notch": 60.0,
        "order": 4
      },
      "inputs": ["to_voltage1"],
      "description": "Apply digital filtering to EEG signals"
    },
    {
      "name": "display_ws",
      "type": "websocket_sink",
      "params": {
        "endpoint": "ws://filtered_data",
        "fields": ["timestamp", "filtered_channels"],
        "format": "json"
      },
      "inputs": ["filter1"],
      "description": "Stream filtered data to WebSocket clients"
    },
    {
      "name": "csv_filtered",
      "type": "csv_sink",
      "params": {
        "path": "recordings/filtered.csv",
        "fields": ["timestamp", "filtered_channels"],
        "include_headers": true
      },
      "inputs": ["filter1"],
      "description": "Record filtered data to CSV file"
    },
    {
      "name": "csv_raw",
      "type": "csv_sink",
      "params": {
        "path": "recordings/raw.csv",
        "fields": ["timestamp", "voltage_channels"],
        "include_headers": true
      },
      "inputs": ["to_voltage1"],
      "description": "Record raw voltage data to CSV file"
    }
  ]
}